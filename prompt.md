
# Codex Prompt: 冒險者公會會員系統設計

## 🧭 專案名稱：冒險者公會會員系統

本系統是一套會員管理平台，結合日系動漫與冒險者卡牌風格，分為會員端與店家端，提供 QRCode 掃描、Google 登入、消費記錄與等級徽章展示。

---

## 📌 系統概述

### 系統模組分為兩大平台：
1. **使用者平台（會員端）**
2. **店家平台（後台管理端）**

### 主題風格：
- 日系動漫風格
- 卡牌風會員 UI 呈現
- 冒險者公會世界觀主題設計

---

## 🧱 會員等級制度

| 等級         | 消費門檻 (TWD)     | 顯示徽章  |
|--------------|-------------------|------------|
| 初心者       | NT$0–999          | 🐣 初心者卡 |
| 冒險者       | NT$1,000–4,999    | ⚔️ 冒險者卡 |
| 高級冒險者   | NT$5,000–9,999    | 🛡️ 高級冒險者卡 |
| 尊者         | NT$10,000+        | 👑 尊者卡 |

---

## 🧩 系統功能模組

### 1. 使用者平台功能

- Google SSO 登入
- 顯示會員資訊（名稱、Email、等級、徽章、總消費金額）
- 顯示動態 QR Code（可被店家掃描）
- 顯示歷史消費紀錄（包含商品名稱與金額）
- 使用卡牌式視覺風格展示等級徽章

### 2. 店家平台功能

- 登入後可查看所有會員清單
- 掃描會員 QR Code → 自動帶出會員資訊
- 為會員新增消費紀錄（可選商品或自訂金額）
- 商品管理（新增、修改、上下架）
- 消費統計與簡易報表（會員貢獻排行等）

---

## 🔐 登入與驗證流程

1. 使用者點擊登入 → Google SSO 驗證
2. 若為新會員，自動建立基本會員資料
3. 登入後進入會員儀表板
4. 顯示目前會員卡、等級、徽章、消費歷史
5. 同時產生會員對應的 QR Code 提供給店家掃描

---

## 📦 資料庫設計（核心資料表）

### Table: users

| 欄位         | 類型     | 說明              |
|--------------|----------|-------------------|
| id           | UUID     | 會員唯一識別碼     |
| google_id    | string   | Google 帳號ID      |
| name         | string   | 顯示名稱           |
| email        | string   | Email              |
| level        | string   | 會員等級（自動計算）|
| total_spent  | int      | 總消費金額         |
| qr_code_url  | string   | QR Code 圖片連結   |
| created_at   | datetime | 註冊時間           |

### Table: purchases

| 欄位       | 類型     | 說明          |
|------------|----------|---------------|
| id         | UUID     | 紀錄編號      |
| user_id    | UUID     | 所屬會員      |
| item_id    | UUID     | 商品ID        |
| item_name  | string   | 商品名稱快照  |
| amount     | int      | 消費金額      |
| created_at | datetime | 消費時間      |

### Table: items

| 欄位       | 類型   | 說明       |
|------------|--------|------------|
| id         | UUID   | 商品ID     |
| name       | string | 商品名稱   |
| price      | int    | 價格       |
| is_active  | bool   | 上架狀態   |

---

## 🔄 系統流程圖（邏輯流程）

### 【使用者端流程】
1. 使用者點擊登入（Google SSO）
2. 確認會員身份（若新 → 建立資料）
3. 顯示會員卡片（等級 + 總消費 + QRCode）
4. 顯示歷史紀錄（冒險日誌）

### 【店家端流程】
1. 掃描 QR Code
2. 顯示會員資料
3. 新增消費紀錄（自選商品或自訂金額）
4. 自動更新會員等級
5. 更新至資料庫並回饋給使用者端顯示

---

## 🎨 視覺設計建議

### 使用者端
- 會員卡為動漫卡牌樣式，分為 R / SR / SSR / UR 卡
- 消費紀錄命名為「冒險日誌」
- QR Code 嵌入於卡片右下角（可動畫化）

### 店家端
- 暗黑 UI + 金屬框設計
- 掃描動畫與音效強化冒險風
- 介面整體偏向遊戲化數據視覺呈現

---

## 🔧 可延伸功能（進階版本）

- 推薦機制（邀請好友賺點數）
- 等級解鎖專屬商品（商城系統）
- 簽到獎勵與每日冒險任務
- LINE Notify/LINE Login 擴充
- 多分店支持與後台角色權限管理

---

請依照此設計指引建立完整前後端系統，符合日系風格與高互動會員經營目標。
